{% extends "base.html" %}

{% block title %}{{ service.name }} - Service Details{% endblock %}

{% block styles %}
<style>
.service-detail-hero {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 4rem 0;
}

.service-icon-large {
  width: 120px;
  height: 120px;
  background: rgba(255, 255, 255, 0.2);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto 2rem;
}

.service-icon-large i {
  font-size: 3rem;
}

.feature-card {
  background: white;
  border-radius: 15px;
  padding: 2rem;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
  transition: transform 0.3s ease;
}

.feature-card:hover {
  transform: translateY(-5px);
}

.pricing-card {
  background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
  color: white;
  border-radius: 15px;
  padding: 2rem;
  text-align: center;
}

.btn-book-now {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border: none;
  padding: 1rem 2rem;
  font-size: 1.1rem;
  font-weight: 600;
  border-radius: 50px;
  transition: all 0.3s ease;
}

.btn-book-now:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
}

.service-features {
  background: #f8f9fa;
  padding: 3rem 0;
}

.testimonial-card {
  background: white;
  border-radius: 15px;
  padding: 2rem;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
  margin-bottom: 2rem;
}

.star-rating {
  color: #ffc107;
  font-size: 1.2rem;
}
</style>
{% endblock %}

{% block content %}
<!-- Service Detail Hero Section -->
<section class="service-detail-hero">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-6">
        <div class="service-icon-large">
          <i id="serviceIcon" class="fas fa-tools"></i>
        </div>
        <h1 id="serviceName" class="display-4 fw-bold mb-3">Service Name</h1>
        <p id="serviceCategory" class="lead mb-4">Service Category</p>
        <div class="d-flex align-items-center gap-4">
          <div>
            <span class="badge bg-success fs-6 px-3 py-2">Available</span>
          </div>
          <div>
            <span class="star-rating">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
            </span>
            <span class="ms-2">4.8 (120+ reviews)</span>
          </div>
        </div>
      </div>
      <div class="col-lg-6">
        <div class="pricing-card">
          <h3 class="fw-bold mb-3">Starting From</h3>
          <div class="display-4 fw-bold mb-3" id="servicePrice">â‚¹500</div>
          <p class="mb-4">Professional service with guaranteed satisfaction</p>
          <a href="#" id="bookNowBtn" class="btn btn-light btn-lg px-4 py-3 rounded-pill">
            <i class="fas fa-calendar-plus me-2"></i>Book Now
          </a>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Service Features Section -->
<section class="service-features">
  <div class="container">
    <div class="row mb-5">
      <div class="col-lg-8 mx-auto text-center">
        <h2 class="display-6 fw-bold text-primary mb-3">Why Choose Our Service?</h2>
        <p class="lead text-muted">Professional, reliable, and affordable solutions for all your needs</p>
      </div>
    </div>
    
    <div class="row g-4">
      <div class="col-lg-4 col-md-6">
        <div class="feature-card text-center">
          <div class="mb-3">
            <i class="fas fa-clock text-primary" style="font-size: 2.5rem;"></i>
          </div>
          <h5 class="fw-bold mb-3">Quick Response</h5>
          <p class="text-muted">We respond to your requests within 30 minutes and arrive on time.</p>
        </div>
      </div>
      
      <div class="col-lg-4 col-md-6">
        <div class="feature-card text-center">
          <div class="mb-3">
            <i class="fas fa-shield-alt text-primary" style="font-size: 2.5rem;"></i>
          </div>
          <h5 class="fw-bold mb-3">Insured & Licensed</h5>
          <p class="text-muted">All our professionals are fully licensed and insured for your peace of mind.</p>
        </div>
      </div>
      
      <div class="col-lg-4 col-md-6">
        <div class="feature-card text-center">
          <div class="mb-3">
            <i class="fas fa-star text-primary" style="font-size: 2.5rem;"></i>
          </div>
          <h5 class="fw-bold mb-3">Quality Guarantee</h5>
          <p class="text-muted">100% satisfaction guarantee with free follow-up if needed.</p>
        </div>
      </div>
      
      <div class="col-lg-4 col-md-6">
        <div class="feature-card text-center">
          <div class="mb-3">
            <i class="fas fa-tools text-primary" style="font-size: 2.5rem;"></i>
          </div>
          <h5 class="fw-bold mb-3">Professional Tools</h5>
          <p class="text-muted">We bring all necessary tools and equipment for the job.</p>
        </div>
      </div>
      
      <div class="col-lg-4 col-md-6">
        <div class="feature-card text-center">
          <div class="mb-3">
            <i class="fas fa-dollar-sign text-primary" style="font-size: 2.5rem;"></i>
          </div>
          <h5 class="fw-bold mb-3">Transparent Pricing</h5>
          <p class="text-muted">No hidden fees. Get upfront pricing before we start the work.</p>
        </div>
      </div>
      
      <div class="col-lg-4 col-md-6">
        <div class="feature-card text-center">
          <div class="mb-3">
            <i class="fas fa-headset text-primary" style="font-size: 2.5rem;"></i>
          </div>
          <h5 class="fw-bold mb-3">24/7 Support</h5>
          <p class="text-muted">Round-the-clock customer support for all your queries.</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- What's Included Section -->
<section class="py-5 bg-white">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 mx-auto">
        <h3 class="fw-bold text-center mb-5">What's Included in This Service</h3>
        <div class="row g-4">
          <div class="col-md-6">
            <div class="d-flex align-items-start">
              <div class="flex-shrink-0">
                <i class="fas fa-check-circle text-success me-3" style="font-size: 1.5rem;"></i>
              </div>
              <div>
                <h6 class="fw-bold mb-2">Professional Assessment</h6>
                <p class="text-muted small">Thorough evaluation of your requirements</p>
              </div>
            </div>
          </div>
          
          <div class="col-md-6">
            <div class="d-flex align-items-start">
              <div class="flex-shrink-0">
                <i class="fas fa-check-circle text-success me-3" style="font-size: 1.5rem;"></i>
              </div>
              <div>
                <h6 class="fw-bold mb-2">Quality Materials</h6>
                <p class="text-muted small">High-quality materials and supplies</p>
              </div>
            </div>
          </div>
          
          <div class="col-md-6">
            <div class="d-flex align-items-start">
              <div class="flex-shrink-0">
                <i class="fas fa-check-circle text-success me-3" style="font-size: 1.5rem;"></i>
              </div>
              <div>
                <h6 class="fw-bold mb-2">Expert Workmanship</h6>
                <p class="text-muted small">Skilled professionals with years of experience</p>
              </div>
            </div>
          </div>
          
          <div class="col-md-6">
            <div class="d-flex align-items-start">
              <div class="flex-shrink-0">
                <i class="fas fa-check-circle text-success me-3" style="font-size: 1.5rem;"></i>
              </div>
              <div>
                <h6 class="fw-bold mb-2">Cleanup Service</h6>
                <p class="text-muted small">Complete cleanup after the job is done</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Customer Reviews Section -->
<section class="py-5 bg-light">
  <div class="container">
    <div class="row mb-5">
      <div class="col-lg-8 mx-auto text-center">
        <h3 class="fw-bold text-primary mb-3">What Our Customers Say</h3>
        <p class="text-muted">Real reviews from satisfied customers</p>
      </div>
    </div>
    
    <div class="row g-4">
      <div class="col-lg-4">
        <div class="testimonial-card">
          <div class="star-rating mb-3">
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
          </div>
          <p class="mb-3">"Excellent service! The professional was punctual, skilled, and completed the work perfectly. Highly recommended!"</p>
          <div class="d-flex align-items-center">
            <div class="me-3">
              <div class="bg-primary rounded-circle d-flex align-items-center justify-content-center" style="width: 40px; height: 40px;">
                <span class="text-white fw-bold">R</span>
              </div>
            </div>
            <div>
              <h6 class="fw-bold mb-0">Rajesh Kumar</h6>
              <small class="text-muted">Verified Customer</small>
            </div>
          </div>
        </div>
      </div>
      
      <div class="col-lg-4">
        <div class="testimonial-card">
          <div class="star-rating mb-3">
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
          </div>
          <p class="mb-3">"Great experience from booking to completion. The team was professional and the pricing was very reasonable."</p>
          <div class="d-flex align-items-center">
            <div class="me-3">
              <div class="bg-success rounded-circle d-flex align-items-center justify-content-center" style="width: 40px; height: 40px;">
                <span class="text-white fw-bold">P</span>
              </div>
            </div>
            <div>
              <h6 class="fw-bold mb-0">Priya Sharma</h6>
              <small class="text-muted">Verified Customer</small>
            </div>
          </div>
        </div>
      </div>
      
      <div class="col-lg-4">
        <div class="testimonial-card">
          <div class="star-rating mb-3">
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
          </div>
          <p class="mb-3">"Outstanding service! They arrived on time, worked efficiently, and cleaned up everything afterward. Will definitely use again."</p>
          <div class="d-flex align-items-center">
            <div class="me-3">
              <div class="bg-warning rounded-circle d-flex align-items-center justify-content-center" style="width: 40px; height: 40px;">
                <span class="text-white fw-bold">A</span>
              </div>
            </div>
            <div>
              <h6 class="fw-bold mb-0">Amit Patel</h6>
              <small class="text-muted">Verified Customer</small>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- CTA Section -->
<section class="py-5 bg-primary text-white">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-8">
        <h3 class="fw-bold mb-3">Ready to Get Started?</h3>
        <p class="mb-0">Book your service now and experience professional quality work at affordable prices.</p>
      </div>
      <div class="col-lg-4 text-lg-end">
        <a href="#" id="ctaBookBtn" class="btn btn-light btn-lg px-4 py-3 rounded-pill">
          <i class="fas fa-calendar-plus me-2"></i>Book Now
        </a>
      </div>
    </div>
  </div>
</section>
{% endblock %}

{% block scripts %}
<script>
// Service icons mapping
const serviceIcons = {
  'Electrician': 'fas fa-bolt',
  'Plumber': 'fas fa-wrench',
  'Carpenter': 'fas fa-hammer',
  'Cleaner': 'fas fa-broom',
  'Painter': 'fas fa-paint-brush',
  'AC Repair': 'fas fa-snowflake'
};

// Load service details
async function loadServiceDetails() {
  try {
    const serviceId = window.location.pathname.split('/').pop();
    const response = await fetch(`/api/services/${serviceId}`);
    
    if (!response.ok) {
      throw new Error('Service not found');
    }
    
    const service = await response.json();
    
    // Update page content
    document.getElementById('serviceName').textContent = service.name;
    document.getElementById('serviceCategory').textContent = service.category;
    document.getElementById('servicePrice').textContent = `â‚¹${service.base_price}`;
    
    // Update service icon
    const icon = serviceIcons[service.name] || 'fas fa-tools';
    document.getElementById('serviceIcon').className = icon;
    
    // Update booking links
    const bookingUrl = `/booking-map?service_id=${service.id}`;
    document.getElementById('bookNowBtn').href = bookingUrl;
    document.getElementById('ctaBookBtn').href = bookingUrl;
    
    // Update page title
    document.title = `${service.name} - Service Details`;
    
  } catch (error) {
    console.error('Error loading service details:', error);
    // Redirect to services page if service not found
    window.location.href = '/services';
  }
}

// Initialize page
document.addEventListener('DOMContentLoaded', function() {
  loadServiceDetails();
});
</script>
{% endblock %}

